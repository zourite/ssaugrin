{{ define "main" }}
<section id="posts" class="pt-16 w-full px-2">

  <h1>Les notes d'une pieuvre passioné</h1>

  <div class="row">
    <!-- Ranges through content/posts/*.md -->
    {{ range (.Paginator 6).Pages }}
    <div class="row w-12/12 md:w-4/12 xl:w-3/12">

      <article class="row relative flex-col card w-12/12 animate__animated animate__fadeIn m-2 mr-4 ml-0">

        <div class="md:flex w-full md:w-4/4 items-center relative">
          
          {{ if isset .Params "featured" }}
          <img src="/img/{{ .Params.featured }}" alt="{{ .Title }}" />
          {{ end }}

        </div>

        <div class="w-full md:w-4/4" style="padding-bottom: 50px;">
          
          <div class="flex w-full">
            <h2 class="lg:ml-2">
              <a href="{{ .RelPermalink }}">
                {{.Title}}
              </a>
            </h2>
          </div>

          <div class="absolute" style="right : 0; bottom : 0;">
            <a href="{{ .RelPermalink }}" class="rm-btn float-right">Lire la suite</a>
          </div>

        </div>

      </article>

    </div>

    {{ end }}
  </div>
</section>
{{ $paginator := .Paginator }}

<!-- If there's more than one page. -->
{{ if gt $paginator.TotalPages 1 }}
<section class="flex w-full  mt-5 mb-5 p-2">
  <ul id="pagination" class="flex mx-auto card">
    <!-- Previous page. -->
    {{ if $paginator.HasPrev }}
    <li class="waves-effect text-white">
      <a href="{{ $paginator.Prev.URL }}">
        «
      </a>
    </li>
    {{ end }}

    <!-- First page. -->
    <li class="{{ if eq $paginator.PageNumber 1 }} active {{ end }} waves-effect grey darken-4 text-white">
      <a href="{{ $paginator.First.URL }}">
        1
      </a>
    </li>

    <!-- Page numbers. -->
    {{ range after 1 $paginator.Pagers}}
    <li class="{{ if eq . $paginator }} active {{ end }} waves-effect grey darken-4 text-white">
      <a href="{{ .URL }}" class="pagination__link">
        {{ .PageNumber }}
      </a>
    </li>
    {{ end }}

    <!-- Next page. -->
    {{ if $paginator.HasNext }}
    <li class="waves-effect text-white">
      <a href="{{ $paginator.Next.URL }}">
        »
      </a>
    </li>
    {{ end }}

  </ul><!-- .pagination -->
</section>
{{ end }}


{{ end }}